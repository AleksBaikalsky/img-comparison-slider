{"version":3,"sources":["webpack://img-comparison-slider/./src/styles.scss","webpack://img-comparison-slider/./node_modules/css-loader/dist/runtime/api.js","webpack://img-comparison-slider/webpack/bootstrap","webpack://img-comparison-slider/webpack/runtime/compat get default export","webpack://img-comparison-slider/webpack/runtime/define property getters","webpack://img-comparison-slider/webpack/runtime/hasOwnProperty shorthand","webpack://img-comparison-slider/./src/template.html","webpack://img-comparison-slider/./src/defaults.ts","webpack://img-comparison-slider/./src/index.ts","webpack://img-comparison-slider/./src/inBetween.ts"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","RENDERED_CLASS","templateElement","document","createElement","innerHTML","styles","KeySlideOffset","ArrowLeft","ArrowRight","getTouchPagePoint","e","x","touches","pageX","y","pageY","HTMLImgComparisonSliderElement","HTMLElement","super","exposure","isMouseDown","isFocused","onWindowMouseMove","slideToPageX","bodyUserSelectStyle","onMouseDown","window","addEventListener","onWindowMouseUp","focus","body","style","userSelect","removeEventListener","isTouchComparing","hasTouchMoved","onTouchStart","touchStartPoint","onTouchMove","preventDefault","currentPoint","Math","abs","onTouchEnd","onBlur","stopSlideAnimation","onFocus","onKeyDown","keyboardSlideAnimationTimeoutId","startSlideAnimation","onKeyUp","keys","includes","resetWidth","imageWidth","offsetWidth","shadowRoot","attachShadow","mode","appendChild","cloneNode","firstElement","getElementById","firstImageContainerElement","secondElement","hasAttribute","tabIndex","ResizeObserver","observe","slide","passive","classList","contains","add","querySelectorAll","console","warn","transitionTimer","clearTimeout","increment","transition","actual","transitionTime","setProperty","setTimeout","getBoundingClientRect","left","scrollX","offset","onSlideTimeout","animationRequestId","requestAnimationFrame","cancelAnimationFrame","customElements","define"],"mappings":"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","file":"index.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":host{--divider-width: 1px;--divider-color: #fff;--default-handle-width: 50px;--default-handle-color: #fff;--default-handle-opacity: 1;position:relative;display:inline-block;overflow:hidden;isolation:isolate;direction:ltr}::slotted(*){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.first{position:absolute;left:0;top:0;bottom:0;z-index:-1;line-height:normal;font-size:100%;--exposure: 50%;--transition-time: 0ms;transform:translateX(calc(var(--exposure) * -1));transition:transform var(--transition-time)}.first .first-overlay-container{position:relative;z-index:-1;transform:translateX(var(--exposure));transition:transform var(--transition-time)}.first .first-overlay{overflow:hidden}.second{position:relative;z-index:-2}.handle-container{transform:translateX(50%);position:absolute;right:0;height:100%;display:flex;align-items:flex-end;justify-content:center;flex-direction:column;z-index:1}.divider{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.divider:after{content:\\\" \\\";display:block;height:100%;border-left-width:var(--divider-width);border-left-style:solid;border-left-color:var(--divider-color)}.handle{pointer-events:none;box-sizing:border-box;margin-left:1px;transform:translateX(-0.5px)}.default-handle{width:var(--default-handle-width);opacity:var(--default-handle-opacity);transition:all 1s;filter:drop-shadow(0px 0px 5px black)}.default-handle path{stroke:var(--default-handle-color)}.focused .handle{transform:rotate(45deg) scale(1.5)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// Module\nvar code = \"<div class=\\\"first\\\" id=\\\"first\\\"> <div class=\\\"handle-container\\\"> <div class=\\\"divider\\\"></div> <div class=\\\"handle\\\"> <slot name=\\\"handle\\\"> <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"default-handle\\\" width=\\\"16\\\" viewBox=\\\"-8 -3 16 6\\\"> <path d=\\\"M -5 -2 L -7 0 L -5 2 M 5 -2 L 7 0 L 5 2\\\" fill=\\\"none\\\" vector-effect=\\\"non-scaling-stroke\\\" stroke=\\\"#fff\\\"/> </svg> </slot> </div> </div> <div class=\\\"first-overlay\\\"> <div class=\\\"first-overlay-container\\\" id=\\\"firstImageContainer\\\"> <slot name=\\\"first\\\"><slot name=\\\"after\\\"></slot></slot> </div> </div> </div> <div class=\\\"second\\\" id=\\\"second\\\"> <slot name=\\\"second\\\"><slot name=\\\"before\\\"></slot></slot> </div> \";\n// Exports\nexport default code;","export const TABINDEX = 0;\nexport const RENDERED_CLASS = 'rendered';\n","import styles from './styles.scss';\nimport { inBetween } from './inBetween';\nimport templateHtml from './template.html';\nimport { TABINDEX, RENDERED_CLASS } from './defaults';\nconst templateElement = document.createElement('template');\ntemplateElement.innerHTML = `<style>${styles}</style>${templateHtml}`;\nconst KeySlideOffset = {\n    ArrowLeft: -1,\n    ArrowRight: 1,\n};\nconst getTouchPagePoint = (e) => ({\n    x: e.touches[0].pageX,\n    y: e.touches[0].pageY,\n});\nconst slideAnimationFps = 100;\nconst slideAnimationTimout = 1000 / slideAnimationFps;\nexport class HTMLImgComparisonSliderElement extends HTMLElement {\n    constructor() {\n        super();\n        this.exposure = 50;\n        this.isMouseDown = false;\n        this.isFocused = false;\n        this.onWindowMouseMove = (e) => {\n            /**\n             * This dynamic window.onmousemove event handler\n             * registers on mousedown and removes on mouse up.\n             * The whole mumbo-jumbo is needed to capture\n             * mouse events outside of component. This provides\n             * better user experience.\n             */\n            if (this.isMouseDown) {\n                this.slideToPageX(e.pageX);\n            }\n        };\n        this.bodyUserSelectStyle = '';\n        this.onMouseDown = (e) => {\n            window.addEventListener('mousemove', this.onWindowMouseMove);\n            window.addEventListener('mouseup', this.onWindowMouseUp);\n            this.isMouseDown = true;\n            this.slideToPageX(e.pageX, true);\n            this.focus();\n            this.bodyUserSelectStyle = window.document.body.style.userSelect;\n            window.document.body.style.userSelect = 'none';\n        };\n        this.onWindowMouseUp = () => {\n            this.isMouseDown = false;\n            window.document.body.style.userSelect = this.bodyUserSelectStyle;\n            window.removeEventListener('mousemove', this.onWindowMouseMove);\n            window.removeEventListener('mouseup', this.onWindowMouseUp);\n        };\n        this.isTouchComparing = false;\n        this.hasTouchMoved = false;\n        this.onTouchStart = (e) => {\n            this.touchStartPoint = getTouchPagePoint(e);\n            if (this.isFocused) {\n                this.slideToPageX(e.touches[0].pageX, true);\n            }\n        };\n        this.onTouchMove = (e) => {\n            if (this.isTouchComparing) {\n                this.slideToPageX(e.touches[0].pageX);\n                e.preventDefault();\n                return false;\n            }\n            if (!this.hasTouchMoved) {\n                const currentPoint = getTouchPagePoint(e);\n                if (Math.abs(currentPoint.y - this.touchStartPoint.y) <\n                    Math.abs(currentPoint.x - this.touchStartPoint.x)) {\n                    this.isTouchComparing = true;\n                    this.focus();\n                    this.slideToPageX(e.touches[0].pageX, true);\n                    e.preventDefault();\n                    return false;\n                }\n                this.hasTouchMoved = true;\n            }\n        };\n        this.onTouchEnd = () => {\n            this.isTouchComparing = false;\n            this.hasTouchMoved = false;\n        };\n        this.onBlur = () => {\n            this.stopSlideAnimation();\n            this.isFocused = false;\n        };\n        this.onFocus = () => {\n            this.isFocused = true;\n        };\n        this.onKeyDown = (e) => {\n            if (this.keyboardSlideAnimationTimeoutId) {\n                return;\n            }\n            const key = e.key;\n            if (KeySlideOffset[key] === undefined) {\n                return;\n            }\n            this.startSlideAnimation(KeySlideOffset[key]);\n        };\n        this.onKeyUp = (e) => {\n            if (!this.keyboardSlideAnimationTimeoutId) {\n                return;\n            }\n            if (!Object.keys(KeySlideOffset).includes(e.key)) {\n                return;\n            }\n            this.stopSlideAnimation();\n        };\n        this.resetWidth = () => {\n            this.imageWidth = this.offsetWidth;\n        };\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.appendChild(templateElement.content.cloneNode(true));\n        this.firstElement = shadowRoot.getElementById('first');\n        this.firstImageContainerElement = shadowRoot.getElementById('firstImageContainer');\n        this.secondElement = shadowRoot.getElementById('second');\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('tabindex')) {\n            this.tabIndex = TABINDEX;\n        }\n        this.addEventListener('dragstart', (e) => {\n            e.preventDefault();\n            return false;\n        });\n        const resizeObserver = new ResizeObserver(this.resetWidth);\n        resizeObserver.observe(this);\n        this.slide(0);\n        this.addEventListener('keydown', this.onKeyDown);\n        this.addEventListener('keyup', this.onKeyUp);\n        this.addEventListener('focus', this.onFocus);\n        this.addEventListener('blur', this.onBlur);\n        this.addEventListener('touchstart', this.onTouchStart);\n        this.addEventListener('touchmove', this.onTouchMove, {\n            passive: false,\n        });\n        this.addEventListener('touchend', this.onTouchEnd);\n        this.addEventListener('mousedown', this.onMouseDown);\n        this.resetWidth();\n        if (!this.classList.contains(RENDERED_CLASS)) {\n            this.classList.add(RENDERED_CLASS);\n        }\n        if (this.querySelectorAll('[slot=\"before\"], [slot=\"after\"]').length > 0) {\n            console.warn('<img-comparison-slider>: ' +\n                'slot names \"before\" and \"after\" are deprecated and soon won\\'t be supported. ' +\n                'Please use slot=\"first\" instead of slot=\"after\", and slot=\"second\" instead of slot=\"before\".');\n        }\n    }\n    disconnectedCallback() {\n        if (this.transitionTimer) {\n            window.clearTimeout(this.transitionTimer);\n        }\n    }\n    reset() {\n        this.exposure = 50;\n        this.slide(0);\n    }\n    slide(increment = 0, transition = false) {\n        this.exposure = inBetween(this.exposure + increment, 0, 100);\n        if (transition) {\n            const transitionTime = 100;\n            this.firstElement.style.setProperty('--transition-time', `${transitionTime}ms`);\n            this.transitionTimer = window.setTimeout(() => {\n                this.firstElement.style.setProperty('--transition-time', `0ms`);\n                this.transitionTimer = null;\n            }, transitionTime);\n        }\n        this.firstElement.style.setProperty('--exposure', `${100 - this.exposure}%`);\n    }\n    slideToPageX(pageX, transition = false) {\n        const x = pageX - this.getBoundingClientRect().left - window.scrollX;\n        this.exposure = (x / this.imageWidth) * 100;\n        this.slide(0, transition);\n    }\n    startSlideAnimation(offset) {\n        const slide = () => {\n            this.keyboardSlideAnimationTimeoutId = window.setTimeout(onSlideTimeout, slideAnimationTimout);\n            this.slide(offset);\n        };\n        const onSlideTimeout = () => {\n            this.animationRequestId = window.requestAnimationFrame(slide);\n        };\n        slide();\n    }\n    stopSlideAnimation() {\n        if (!this.keyboardSlideAnimationTimeoutId) {\n            return;\n        }\n        window.clearTimeout(this.keyboardSlideAnimationTimeoutId);\n        window.cancelAnimationFrame(this.animationRequestId);\n        this.keyboardSlideAnimationTimeoutId = null;\n        this.animationRequestId = null;\n    }\n}\nwindow.customElements.define('img-comparison-slider', HTMLImgComparisonSliderElement);\n","export const inBetween = (actual, min, max) => {\n    if (actual < min) {\n        return min;\n    }\n    if (actual > max) {\n        return max;\n    }\n    return actual;\n};\n"],"sourceRoot":""}