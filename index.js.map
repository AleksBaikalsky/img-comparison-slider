{"version":3,"sources":["webpack://img-comparison-slider/./src/styles.scss","webpack://img-comparison-slider/./node_modules/css-loader/dist/runtime/api.js","webpack://img-comparison-slider/webpack/bootstrap","webpack://img-comparison-slider/webpack/runtime/compat get default export","webpack://img-comparison-slider/webpack/runtime/define property getters","webpack://img-comparison-slider/webpack/runtime/hasOwnProperty shorthand","webpack://img-comparison-slider/./src/inBetween.ts","webpack://img-comparison-slider/./src/index.ts","webpack://img-comparison-slider/./src/isImg.ts","webpack://img-comparison-slider/./src/isSlot.ts"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","template","document","createElement","innerHTML","styles","KeySlideOffset","ArrowLeft","ArrowRight","getTouchPagePoint","e","x","touches","pageX","y","pageY","HTMLImgComparisonSliderElement","HTMLElement","super","exposure","isMouseDown","isFocused","hydrate","element","tagName","isImg","classList","contains","addEventListener","preventDefault","resetWidth","add","onWindowMouseMove","slideToPageX","bodyUserSelectStyle","onMouseDown","window","onWindowMouseUp","focus","body","style","userSelect","removeEventListener","isTouchComparing","hasTouchMoved","onTouchStart","touchStartPoint","onTouchMove","currentPoint","Math","abs","onTouchEnd","onBlur","stopSlideAnimation","onFocus","onKeyDown","keyboardSlideAnimationTimeoutId","keys","includes","startSlideAnimation","onKeyUp","imageWidth","offsetWidth","afterImageContainerElement","width","shadowRoot","attachShadow","mode","appendChild","cloneNode","beforeElement","getElementById","afterElement","querySelectorAll","forEach","slot","isSlot","target","assignedElements","slide","setAttribute","passive","transitionTimer","clearTimeout","increment","transition","actual","transitionTime","setTimeout","getBoundingClientRect","left","scrollX","offset","fraction","animationRequestId","requestAnimationFrame","cancelAnimationFrame","customElements","define"],"mappings":"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","file":"index.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":host{--divider-width: 1px;--divider-color: #d7d7d7;--handle-size: 40px;--handle-color: #d7d7d7;--handle-opacity: 0.5;--handle-opacity-active: 0;position:relative;display:inline-block;font-size:0;overflow:hidden;isolation:isolate;line-height:0}:host(:focus) .handle-wrapper{opacity:var(--handle-opacity-active)}::slotted(img){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.before{position:relative;z-index:-2}.after{position:absolute;left:0;top:0;bottom:0;z-index:-1}.after .after-overlay{overflow:hidden}.after:before{content:\\\" \\\";position:absolute;display:block;right:calc(var(--divider-width) * -0.5);top:0;bottom:0;border-right-width:var(--divider-width);border-right-style:solid;border-right-color:var(--divider-color)}.handle-wrapper{position:absolute;width:var(--handle-size);height:var(--handle-size);margin-top:calc(var(--handle-size) / (-2));margin-right:calc(var(--handle-size) / (-2));top:50%;right:0;pointer-events:none;box-sizing:border-box;opacity:var(--handle-opacity);transition:opacity 1s}.handle{background-color:var(--handle-color);width:var(--handle-size);height:var(--handle-size);transition:transform 1s;transform:rotate(45deg);box-shadow:0px 0px 15px 0px rgba(0,0,0,.75)}.focused .handle{transform:rotate(45deg) scale(1.5)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const inBetween = (actual, min, max) => {\n    if (actual < min) {\n        return min;\n    }\n    if (actual > max) {\n        return max;\n    }\n    return actual;\n};\n","import styles from './styles.scss';\nimport { inBetween } from './inBetween';\nimport { isImg } from './isImg';\nimport { isSlot } from './isSlot';\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n  <style>\n    ${styles}\n  </style>\n\n  <div class=\"before\" id=\"before\">\n    <slot name=\"before\"></slot>\n  </div>\n  <div class=\"after\" id=\"after\">\n    <div class=\"handle-wrapper\">\n      <slot name=\"handle\">\n        <div class=\"handle\"></div>\n      </slot>\n    </div>\n    <div class=\"after-overlay\">\n      <div id=\"afterImageContainer\">\n        <slot name=\"after\"></slot>\n      </div>\n    </div>\n  </div>\n`;\nconst KeySlideOffset = {\n    ArrowLeft: -1,\n    ArrowRight: 1,\n};\nconst getTouchPagePoint = (e) => ({\n    x: e.touches[0].pageX,\n    y: e.touches[0].pageY,\n});\nexport class HTMLImgComparisonSliderElement extends HTMLElement {\n    constructor() {\n        super();\n        this.exposure = 50;\n        this.isMouseDown = false;\n        this.isFocused = false;\n        this.hydrate = (element) => {\n            if (!isImg(element)) {\n                return;\n            }\n            if (element.classList.contains('hydrated')) {\n                return;\n            }\n            element.addEventListener('dragstart', (e) => {\n                e.preventDefault();\n            });\n            element.addEventListener('load', this.resetWidth);\n            element.classList.add('hydrated');\n        };\n        this.onWindowMouseMove = (e) => {\n            /**\n             * This dynamic window.onmousemove event handler\n             * registers on mousedown and removes on mouse up.\n             * The whole mumbo-jumbo is needed to capture\n             * mouse events outside of component. This provides\n             * better user experience.\n             */\n            if (this.isMouseDown) {\n                this.slideToPageX(e.pageX);\n            }\n        };\n        this.bodyUserSelectStyle = '';\n        this.onMouseDown = (e) => {\n            window.addEventListener('mousemove', this.onWindowMouseMove);\n            window.addEventListener('mouseup', this.onWindowMouseUp);\n            this.isMouseDown = true;\n            this.slideToPageX(e.pageX, true);\n            this.focus();\n            this.bodyUserSelectStyle = window.document.body.style.userSelect;\n            window.document.body.style.userSelect = 'none';\n        };\n        this.onWindowMouseUp = () => {\n            this.isMouseDown = false;\n            window.document.body.style.userSelect = this.bodyUserSelectStyle;\n            window.removeEventListener('mousemove', this.onWindowMouseMove);\n            window.removeEventListener('mouseup', this.onWindowMouseUp);\n        };\n        this.isTouchComparing = false;\n        this.hasTouchMoved = false;\n        this.onTouchStart = (e) => {\n            this.touchStartPoint = getTouchPagePoint(e);\n            if (this.isFocused) {\n                this.slideToPageX(e.touches[0].pageX, true);\n            }\n        };\n        this.onTouchMove = (e) => {\n            if (this.isTouchComparing) {\n                this.slideToPageX(e.touches[0].pageX);\n                e.preventDefault();\n                return false;\n            }\n            if (!this.hasTouchMoved) {\n                const currentPoint = getTouchPagePoint(e);\n                if (Math.abs(currentPoint.y - this.touchStartPoint.y) <\n                    Math.abs(currentPoint.x - this.touchStartPoint.x)) {\n                    this.isTouchComparing = true;\n                    this.focus();\n                    this.slideToPageX(e.touches[0].pageX, true);\n                    e.preventDefault();\n                    return false;\n                }\n                this.hasTouchMoved = true;\n            }\n        };\n        this.onTouchEnd = () => {\n            this.isTouchComparing = false;\n            this.hasTouchMoved = false;\n        };\n        this.onBlur = () => {\n            this.stopSlideAnimation();\n            this.isFocused = false;\n        };\n        this.onFocus = () => {\n            this.isFocused = true;\n        };\n        this.onKeyDown = (e) => {\n            if (this.keyboardSlideAnimationTimeoutId) {\n                return;\n            }\n            const key = e.key;\n            if (!Object.keys(KeySlideOffset).includes(key)) {\n                return;\n            }\n            this.startSlideAnimation(KeySlideOffset[key]);\n        };\n        this.onKeyUp = (e) => {\n            if (!this.keyboardSlideAnimationTimeoutId) {\n                return;\n            }\n            if (!Object.keys(KeySlideOffset).includes(e.key)) {\n                return;\n            }\n            this.stopSlideAnimation();\n        };\n        this.resetWidth = () => {\n            this.imageWidth = this.offsetWidth;\n            this.afterImageContainerElement.style.width = `${this.offsetWidth}px`;\n        };\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.appendChild(template.content.cloneNode(true));\n        this.beforeElement = shadowRoot.getElementById('before');\n        this.afterElement = shadowRoot.getElementById('after');\n        this.afterImageContainerElement = shadowRoot.getElementById('afterImageContainer');\n    }\n    connectedCallback() {\n        this.shadowRoot.querySelectorAll('slot').forEach((slot) => {\n            slot.addEventListener('slotchange', (e) => {\n                if (!isSlot(e.target)) {\n                    return;\n                }\n                e.target.assignedElements().forEach(this.hydrate);\n            });\n        });\n        this.querySelectorAll('img').forEach(this.hydrate);\n        window.addEventListener('resize', this.resetWidth);\n        this.slide(0);\n        this.setAttribute('tabindex', '0');\n        this.addEventListener('keydown', this.onKeyDown);\n        this.addEventListener('keyup', this.onKeyUp);\n        this.addEventListener('focus', this.onFocus);\n        this.addEventListener('blur', this.onBlur);\n        this.addEventListener('touchstart', this.onTouchStart);\n        this.addEventListener('touchmove', this.onTouchMove, {\n            passive: false,\n        });\n        this.addEventListener('touchend', this.onTouchEnd);\n        this.addEventListener('mousedown', this.onMouseDown);\n        this.resetWidth();\n        this.classList.add('rendered');\n    }\n    disconnectedCallback() {\n        if (this.transitionTimer) {\n            window.clearTimeout(this.transitionTimer);\n        }\n    }\n    reset() {\n        this.exposure = 50;\n        this.slide(0);\n    }\n    slide(increment = 0, transition = false) {\n        this.exposure = inBetween(this.exposure + increment, 0, 100);\n        if (transition) {\n            const transitionTime = 100;\n            this.afterElement.style.transition = `width ${transitionTime}ms`;\n            this.transitionTimer = window.setTimeout(() => {\n                this.afterElement.style.transition = null;\n                this.transitionTimer = null;\n            }, transitionTime);\n        }\n        this.afterElement.style.width = `${this.exposure}%`;\n    }\n    slideToPageX(pageX, transition = false) {\n        const x = pageX - this.getBoundingClientRect().left - window.scrollX;\n        this.exposure = (x / this.imageWidth) * 100;\n        this.slide(0, transition);\n    }\n    startSlideAnimation(offset) {\n        const fps = 120;\n        const fraction = 1 * offset;\n        const slide = () => {\n            this.keyboardSlideAnimationTimeoutId = window.setTimeout(() => {\n                this.animationRequestId = window.requestAnimationFrame(slide);\n            }, 1000 / fps);\n            this.slide(fraction);\n        };\n        slide();\n    }\n    stopSlideAnimation() {\n        if (!this.keyboardSlideAnimationTimeoutId) {\n            return;\n        }\n        window.clearTimeout(this.keyboardSlideAnimationTimeoutId);\n        window.cancelAnimationFrame(this.animationRequestId);\n        this.keyboardSlideAnimationTimeoutId = null;\n        this.animationRequestId = null;\n    }\n}\nwindow.customElements.define('img-comparison-slider', HTMLImgComparisonSliderElement);\n","export const isImg = (element) => {\n    if (!element || typeof element !== 'object') {\n        return;\n    }\n    return element.tagName === 'IMG';\n};\n","export const isSlot = (element) => {\n    if (!element || typeof element !== 'object') {\n        return;\n    }\n    return element.tagName === 'SLOT';\n};\n"],"sourceRoot":""}